
 $Id: README 16473 2007-05-14 22:03:25Z jimg $

See the INSTALL file for build instructions.

This is the WCS Module to be loaded by the OPeNDAP Back-End Server (BES).
For more information on Hyrax and the BES, please visit our documentation
wiki at docs.opendap.org. This will include the latest install and build
instructions, the latest configuration inforamtion, tutorials, how to
develop new modules for the BES, and more.

Contents
  - What's here: What files are in the distribution

  - About the WCS Module: What exactly is this

  - Configuration: How to configure the WCS Module

  - Testing: Once built and configured, how do you know it works?

-----------------------------------------------------------------------

* What's here:

C++ source and header files - WCS Module code
unit-tests/ - directory containing unit tests. See below for testing.
bes.conf - a sample BES configuration file, mainly for development purposes

* About the WCS Module

The WCS Module adds functionality to the OPeNDAP Back-End Server (BES)
allowing it to retrieve data served by WCS requests.

* Configuration

Once the WCS Module has been installed, you will need to add the module to
the local BES configuration file. This configuration file is located in the
BES installation directory under etc/bes and is called bes.conf. You will
also need at least the netcdf module and hdf4 module from OPeNDAP. Download
these two modules and follow the instructions for configuring the BES to
load these modules.

To load the WCS Module into the BES you will need to add wcs to the list of
modules. Locate the paramter called BES.modules and add ",wcs" to the end of
that line. For example:

<code>
    BES.modules=dap,cmds,ascii,usage,www,nc,h4,wcs
</code>

Next you will need to tell the BES where to find the WCS Module. Add the
following line after BES.modules:

<code>
    BES.module.wcs=/path/to/libwcs_module.so
</code>

There are a few WCS specific parameters that need to be set in the BES
configuraiton file. At the bottom of this file is a place where you can
specify module-specific parameters. Add the following:

<code>
    WCS.TypeList=netcdf:nc;hdf:h4;
    WCS.CacheDir=/tmp/wcs
    WCS.CacheTime=600
    WCS.CacheSize=20
    WCS.CacheEntrySize=3
</code>

The WCS.TypeList paramter tells the WCS module how to translate WCS data
types into BES data types. You shouldn't have to change this value.

WCS.CacheDir tells the WCS Module where to put cached wcs request responses,
which are the actual data files. /tmp/wcs is a default value and should be
changed. We suggest putting the cache directory under the BES root
directory, which is specified in the BES configuration file.

WCS.CacheTime specifies how long a cached object can remain in the cache
before it is replaced by a subsequent wcs request to retrieve that object.

WCS.CacheSize specifies the maximum size of the WCS cache. Remember, the
cached responses are netcdf and hdf files, so this value should be
sufficient to store many of these files without having to continuously purge
the cache.

WCS.CacheEntrySize specifies the maximum size of a single entry in the WCS
cache. Remember, the cached responses are netcdf and hdf files, so this
value should be set to hold your data. If an entry in the cache is too large
then an error will be thrown.

* Testing

For testing, please refer to the INSTALL file. An internet connection is
required for these tests to run successfully.

